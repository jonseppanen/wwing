[Rainmeter]
Update=1000
DynamicWindowSize=1


[Variables]
@Include=#@#\Variables.inc
PlayPause=#vMediaPlayer#

[MeasureStartup]
UpdateDivider=-1
Meter=String
Text=''
OnUpdateAction=[!Hide wwing\mediaplayer]

[MeasureCover]
Measure=Plugin
Plugin=SpotifyPlugin.dll
Type=AlbumArt
Res=300
DynamicVariables=1
CoverPath=#@#Cover.png

[MeasureProgressDll]
Measure=Plugin
Plugin=SpotifyPlugin.dll
Type=Progress
DynamicVariables=1
OnUpdateAction=[!SetVariable vMediaTrackProgress [MeasureProgressDll]][!SetVariable vMediaTrackProgress [MeasureProgressDll] "wwing"]

[MeasureProgress]
Measure=Calc
DynamicVariables=1
Formula=#vMediaTrackProgress#
MinValue=0
MaxValue=100
AverageSize=2

[MeasureTrack]
Measure=Plugin
Plugin=SpotifyPlugin
Type=TrackName
OnChangeAction=!RefreshGroup MediaUI
Substitute="0":"No Music Selected"
DynamicVariables=1

[MeasureAlbum]
Measure=Plugin
Plugin=SpotifyPlugin.dll
Type=AlbumName
Substitute="0":""
DynamicVariables=1

[MeasureArtist]
Measure=Plugin
Plugin=SpotifyPlugin
Type=ArtistName
Substitute="0":""
DynamicVariables=1

[MeasureMediaPlayer]
Measure=Plugin
Plugin=NowPlaying
PlayerName=#vMediaPlayer#
PlayerType=TITLE

[MeasureMediaState]
UpdateDivider=10
IfConditionMode=1
Measure=Plugin
Plugin=NowPlaying
PlayerName=[MeasureMediaPlayer]
PlayerType=STATE
IfCondition=(MeasureMediaState=1)
IfTrueAction=[!SetVariable PlayPause "pause"]
IfFalseAction=[!SetVariable PlayPause "play"]


[MeasureMediaStatus]
UpdateDivider=10
IfConditionMode=1
Measure=Plugin
Plugin=NowPlaying
PlayerName=[MeasureMediaPlayer]
PlayerType=STATUS
IfCondition=(MeasureMediaStatus=0)
IfTrueAction=!HideMeterGroup MediaUI
IfFalseAction=!ShowMeterGroup MediaUI

[MeterMediaplayerBtn]
Group=MediaUI
Meter=Image
SolidColor=#vTooltipColor#
DynamicVariables=1
ImageName=#@#\icons\#PlayPause#.png
X=126
Y=0
W=48
H=40

[MeterProgress]
Group=MediaUI
Meter=Bar
MeasureName=MeasureProgress
X=r
Y=r
W=48
H=#vNotifierHeight#
BarColor=#vMediaPlayerColor#
BarOrientation=Horizontal
DynamicVariables=1

[MeterPlayingAlbum]
Group=MediaUI
Padding=10,10,10,10
ClipString=2
Meter=String
StringAlign=LeftTop
FontFace=Segoe UI SemiLight
FontSize=12
AntiAlias=1
DynamicVariables=1
SolidColor=#vTooltipColor#
X=0
Y=40
W=280
FontColor=180,180,180,255
Text=[MeasureAlbum]
StringCase=Upper
[MeterPlayingSong]
Group=MediaUI
ClipString=2
Padding=10,0,10,0
Meter=String
StringAlign=LeftTop
FontFace=Segoe UI SemiLight
FontSize=20
FontWeight=700
AntiAlias=1
DynamicVariables=1
SolidColor=#vTooltipColor#
X=0
Y=R
W=280
FontColor=255,255,255,255
Text=[MeasureTrack]
StringCase=Upper
[MeterPlayingArtist]
Group=MediaUI
Padding=10,10,10,10
ClipString=2
Meter=String
StringAlign=LeftTop
FontFace=Segoe UI SemiLight
FontSize=16
AntiAlias=1
DynamicVariables=1
SolidColor=#vTooltipColor#
X=0
Y=R
W=280
FontColor=#vMediaPlayerColor#
Text=[MeasureArtist]
StringCase=Upper

[MeterCover]
Group=MediaUI
Meter=Image
SolidColor=0,0,0,0
ImageName=[MeasureCover]
X=0
Y=R
W= 300
H= 300
DynamicVariables=1